
<div class="container">
  <h1>Book <span>Your Delivery</h1>
  <div class="row">

      <!-- Collection Address -->
    <div class="col-sm-6 grid-item-left medium-width-6">
      <div class="collection">1. Collection Address
        <%= simple_form_for @user do |u| %>
        <%= u.input :postcode, input_html: { id: 'postcode'}, :placeholder => 'Start typing a place name...' %>
        <%= u.button :button, 'Find Address' %>
        <%= u.input :contact_person %>
        <%= u.input :email %>
        <%= u.input :company_name %>
        <%= u.input :company_address %>
        <%= u.input :town %>
        <%= u.input :county %>
        <%= u.input :country, collection: ["United Kingdom"]  %>
      </div>
    </div>

      <!-- Delivery Address -->
    <div class="col-sm-6 grid-item-right medium-width-6">
      <div class="collection">2. Delivery Address
        <%= u.input :postcode, input_html: { id: 'postcode'}, :placeholder => 'Start typing a place name...' %>
        <%= u.button :button, 'Find Address' %>
        <%= u.input :contact_person %>
        <%= u.input :email %>
        <%= u.input :company_name %>
        <%= u.input :company_address %>
        <%= u.input :town %>
        <%= u.input :county %>
        <%= u.input :country, collection: ["United Kingdom"] %>
      </div>
    </div>
  </div>

    <!-- Additional information -->
  <div class="row">
    <div class="col-sm-12 medium-width-6">
      <div class="collection">3. Additional Information
        <%= u.simple_fields_for :booking do |b| %>
        <%= b.input :special_requirements %>
        <%= b.input :hazardous_material, collection: ["Yes", "No"] %>
      </div>
    </div>
  </div>

    <!-- Terms and Condittions -->
  <div class="row">
    <div class="col-sm-12 medium-width-6">
      <div class="collection">4. Terms &amp; Conditions </br>

        <p><%= b.check_box :terms_and_conditions %>
          I agree to the <a href="/terms-and-conditions" target="_blank">terms and conditions</a> and <a href="/privacy-policy" target="_blank">privacy policy</a> and confirm that my shipment complies with the <a href="/prohibited-items" class="js-new-window" data-width="465" data-height="550">restricted items list</a>. <a href="/terms-and-conditions" target="_blank">terms and conditions</a><a href="/privacy-policy" target="_blank">privacy policy</a></p>

          <% end %>
          <%= u.button :submit, 'Confirm Booking'  %>
          <% end %>
        </div>
      </div>
    </div>
  </div>


  <!-- Javascript for autocomplete on maps to work -->

<%= content_for(:after_js) do %>
  <script>
    $(document).ready(function() {
      var input_to_autocomplete = $('#postcode').get(0);

      if (input_to_autocomplete) {
        var autocomplete = new google.maps.places.Autocomplete(input_to_autocomplete, { types: ['geocode'] });
        google.maps.event.addListener(autocomplete, 'place_changed', onPlaceChanged);
        google.maps.event.addDomListener(input_to_autocomplete, 'keydown', function(e) {
          if (e.keyCode == 13) {
            e.preventDefault(); // Do not submit the form on Enter.
          }
        });
      }
      });

  </script>
<% end %>













